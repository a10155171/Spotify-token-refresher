# Spotify-token-refresher

If you want to refresh Spotify token in device that can't install spotipy, you can use this python script to get the token for web API.

Thanks to Spotipy [https://github.com/spotipy-dev/spotipy](https://), Spotify-token-refresher bascetly is the token reflash part of Spotipy. And thanks to chatGPT, chatGPT let me willing to write code when I have free time.

> https://github.com/spotipy-dev/spotipy

## How to use it?

```python
from Spotify_token import Spotify_token
#spotify_api = Spotify_token("your_client_id", "your_client_secret", "the_path_spotipy_created_cache_file")spotify_api = Spotify_token("aaaaaa", "bbbbbbbb", ".cache")
access_token = spotify_api.get_token()
if access_token:
    print(f"Access Token {access_token}")
```

After you get the token, you may use spotify web API without Spotipy.

## Where can I find client_id and client_secret?

Please follow the Getting started in [https://developer.spotify.com/documentation/web-api](https://)

](https://)

## How to get .cache file?

You have to get the file with spotipy, this is the code generated by chatGPT.

```python
import spotipy
from spotipy.oauth2 import SpotifyOAuth

CLIENT_ID = "your_client_id"
CLIENT_SECRET = "your_client_secret"
REDIRECT_URI = "http://localhost:8888/callback"  # 必須與 Spotify 開發者設置一致

# 定義授權範圍（scope）
SCOPE = "user-library-read"  # 你可以根據需求添加其他範圍

def get_spotify_token():
    sp_oauth = SpotifyOAuth(
        client_id=CLIENT_ID,
        client_secret=CLIENT_SECRET,
        redirect_uri=REDIRECT_URI,
        scope=SCOPE,
        cache_path=".cache"  # 保存 token 的快取檔案
    )

    token_info = sp_oauth.get_cached_token()  # 嘗試從快取檢索 token
    if not token_info:  # 如果快取不存在，則執行授權流程
        auth_url = sp_oauth.get_authorize_url()
        print(f"請訪問以下連結進行授權：\n{auth_url}")
        response = input("輸入授權後的 URL：")
        code = sp_oauth.parse_response_code(response)
        token_info = sp_oauth.get_access_token(code)

    return token_info["access_token"]

if __name__ == "__main__":
    token = get_spotify_token()
    print(f"取得的 Token：{token}")
```
